!function(n){"use strict";function e(n){const e=function(n){const e=`; ${document.cookie}`.split(`; ${n}=`);return 2===e.length?decodeURIComponent(e.pop().split(";").shift()):null}(n);if(!e)return!1;const t=e.match(/suppressed_until:(.+)/);if(!t)return!1;const o=new Date(t[1]);return new Date<o}function t(n,e,t){document.cookie=n+"="+encodeURIComponent(e)+"; expires="+t+"; path=/; Domain=."+window.location.hostname+"; SameSite=Lax"+("https:"===window.location.protocol?"; Secure":"")}n(function(){if("undefined"==typeof kwpModalMenuParams)return;const e=kwpModalMenuParams?.id??null,t=kwpModalMenuParams?.label??null,o=kwpModalMenuParams?.class??null,a=kwpModalMenuParams?.href??"";if(e&&e.length&&t&&t.length&&a&&a.length){const s=n("#"+e);if(s.length){const n=`\n                    <li class="${o}">\n                        <a href="${a}">${t}</a>\n                    </li>\n                `;s.append(n)}else console.warn(`Menu with ID '${e}' not found.`)}}),n(function(){const o=n(".kwp-modal");if(o.length){const a=o.attr("id")||"default_modal",s=parseInt(o.data("delay"),10),i=parseInt(o.data("suppress"),10),r=o.data("ends"),u=new Date(Date.now()+i).toUTCString();console.error("endTimestamp:",new Date(r).toString()),e(a)||function(n){return!!n&&Date.now()>n}(r)||setTimeout(()=>{o.fadeIn()},s),o.find(".kwp-suppress").on("click",function(e){const s=n(this).attr("href"),i=n(this).attr("target");s?(e.preventDefault(),t(a,`suppressed_until:${u}`,u),o.fadeOut(),setTimeout(()=>{"_blank"===i?window.open(s,"_blank","noopener,noreferrer"):window.location.href=s},125)):(t(a,`suppressed_until:${u}`,u),o.fadeOut())})}}),n(document).on("keydown",function(e){if("Escape"===e.key){const e=n(".kwp-modal");e.is(":visible")&&e.fadeOut()}})}(jQuery);